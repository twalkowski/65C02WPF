<Window x:Class="_65C02WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:_65C02WPF"
        Title="65C02 Emulator" Height="440" Width="840" MinWidth="820" MinHeight="420">

    <Window.Resources>
        <local:IntToHexConverter x:Key="intHexConverter"/>
    </Window.Resources>
    
    <Window.DataContext>
        <local:MainWindowDataContext/>  
    </Window.DataContext>

    <Grid Margin="16,0,0,16" MinWidth="800" MinHeight="400" HorizontalAlignment="Left" VerticalAlignment="Top">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Margin="20,20,20,20">
            <Button x:Name="Reset" Content="Reset" HorizontalAlignment="Left" Margin="8,4,4,4" VerticalAlignment="Top" Width="75" Click="Reset_Click" />
            <Button x:Name="Step" Content="Step" Margin="8,4,4,4" Width="75" Click="Step_Click" RenderTransformOrigin="0.533,3.25" HorizontalContentAlignment="Center"/>
        </StackPanel>
        
        <Border Grid.Row="1" HorizontalAlignment="Left" VerticalAlignment="Top" Width="172" Height="260"
                Panel.ZIndex="-1" BorderThickness="1"
                Margin="16,8,16,16" BorderBrush="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
        <StackPanel Margin="16,16,16,16" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="0">
            <StackPanel Orientation="Horizontal" Margin="8,8,8,8" HorizontalAlignment="Left" VerticalAlignment="Top">
                <TextBlock TextWrapping="Wrap" Text="Accumulator: " HorizontalAlignment="Left" Width="100" Margin="0" Height="16" />
                <TextBox TextWrapping="Wrap" Text="{Binding Accumulator, Converter={StaticResource intHexConverter}, Mode=OneWay}" Style="{StaticResource ShowHex}" Margin="0" VerticalAlignment="Top" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="X Register: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding XRegister, Converter={StaticResource intHexConverter}, Mode=OneWay}" Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Y Register: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding YRegister, Converter={StaticResource intHexConverter}, Mode=OneWay}" Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Stack Pointer: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding StackPointer, Converter={StaticResource intHexConverter}, Mode=OneWay}" Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Program Counter: " Width="100" HorizontalAlignment="Right"/>
                <TextBox TextWrapping="Wrap" Text="{Binding ProgramCounter, Converter={StaticResource intHexConverter}, Mode=OneWay}" Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Status Register: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding StatusRegister, Converter={StaticResource intHexConverter}, Mode=OneWay}"  Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Address Bus: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding Address, Converter={StaticResource intHexConverter}, Mode=OneWay}"  Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Data Bus: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding Data, Converter={StaticResource intHexConverter}, Mode=OneWay}"  Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Instructions: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding Instructions, Mode=OneWay}" Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal" Margin="8,4,4,4">
                <TextBlock TextWrapping="Wrap" Text="Cycles: " HorizontalAlignment="Right" Width="100"/>
                <TextBox TextWrapping="Wrap" Text="{Binding Cycles, Mode=OneWay}" Style="{StaticResource ShowHex}" IsReadOnly="True"/>
            </StackPanel>
        </StackPanel>

        <StackPanel Grid.Column="2"  Margin="20,20,20,20"  Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" >
            <TextBlock Text="Page:" Style="{StaticResource LabelStyle}" />
            <TextBox x:Name="Page" Text="{Binding Page, Converter={StaticResource intHexConverter}, Mode=OneWay}"
                     Style="{StaticResource BoxFontStyle}" HorizontalAlignment="Left" VerticalAlignment="Center"
                     Margin="8"/>
            <Button x:Name="Next" Content="Next Page" Click="NextPage_Click" Height="20" />
            <Button x:Name="Prev" Content="Prev Page" Click="PrevPage_Click"  Height="20"/>
        </StackPanel>

        <StackPanel Grid.Row="1" Grid.Column="1" Margin="20,20,20,20">
            <CheckBox Content="N" IsChecked="{Binding NFlag, Mode=OneWay}" />
            <CheckBox Content="V" IsChecked="{Binding VFlag, Mode=OneWay}" />
            <CheckBox Content="-" IsChecked="True" IsEnabled="False" />
            <CheckBox Content="B" IsChecked="{Binding BFlag, Mode=OneWay}" />
            <CheckBox Content="D" IsChecked="{Binding DFlag, Mode=OneWay}" />
            <CheckBox Content="I" IsChecked="{Binding IFlag, Mode=OneWay}" />
            <CheckBox Content="Z" IsChecked="{Binding ZFlag, Mode=OneWay}" />
            <CheckBox Content="C" IsChecked="{Binding CFlag, Mode=OneWay}" />
        </StackPanel>

        <TextBox Text="{Binding HexDump, Mode=OneWay}" Style="{StaticResource BoxFontStyle}" 
                 Margin="20,20,20,20" HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Column="2" Grid.Row="1" />

    </Grid>
</Window>
